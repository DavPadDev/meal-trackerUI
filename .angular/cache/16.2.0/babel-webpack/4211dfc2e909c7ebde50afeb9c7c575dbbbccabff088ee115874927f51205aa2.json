{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../small-x/small-x.component\";\nfunction MealsListComponent_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealsListComponent_ng_container_4_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"app-small-x\", 5);\n    i0.ɵɵlistener(\"click\", function MealsListComponent_ng_container_4_div_1_ng_container_1_Template_app_small_x_click_6_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onDelete(ctx_r7.mealsForDays[i_r4]._id));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    const date_r3 = ctx_r10.$implicit;\n    const i_r4 = ctx_r10.index;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(date_r3.getDate());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.mealsForDays[i_r4].recipe.name, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    date: a0\n  };\n};\nfunction MealsListComponent_ng_container_4_div_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"No meal planned\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"a\", 6)(7, \"button\");\n    i0.ɵɵtext(8, \"Add\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const date_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(date_r3.getDate());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(2, _c0, date_r3.toString()));\n  }\n}\nfunction MealsListComponent_ng_container_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, MealsListComponent_ng_container_4_div_1_ng_container_1_Template, 7, 2, \"ng-container\", 1);\n    i0.ɵɵtemplate(2, MealsListComponent_ng_container_4_div_1_ng_container_2_Template, 9, 4, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.mealsForDays[i_r4]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.mealsForDays[i_r4]);\n  }\n}\nfunction MealsListComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MealsListComponent_ng_container_4_div_1_Template, 3, 2, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.next7Days);\n  }\n}\nconst datesAreSameDay = (date1, date2) => date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();\nexport class MealsListComponent {\n  constructor() {\n    this.isLoading = true;\n    this._meals = [];\n    this.next7Days = Array(7).fill(null).map((_, i) => {\n      const date = new Date();\n      date.setDate(date.getDate() + i);\n      return date;\n    });\n    this.mealsForDays = [];\n    this.deleteMeal = new EventEmitter();\n  }\n  set meals(value) {\n    this._meals = value;\n    this.mealsForDays = this.next7Days.map(day => this.meals.find(meal => datesAreSameDay(meal.plannedDate, day)));\n  }\n  get meals() {\n    return this._meals;\n  }\n  onDelete(mealId) {\n    this.deleteMeal.emit(mealId);\n  }\n}\n_class = MealsListComponent;\n_class.ɵfac = function MealsListComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-meals-list\"]],\n  inputs: {\n    isLoading: \"isLoading\",\n    meals: \"meals\"\n  },\n  outputs: {\n    deleteMeal: \"deleteMeal\"\n  },\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"list-container\"], [4, \"ngIf\"], [\"class\", \"list-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-item\"], [1, \"right-action\"], [3, \"click\"], [\"routerLink\", \"/recipes\", 3, \"queryParams\"]],\n  template: function MealsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Planned Meals\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, MealsListComponent_p_3_Template, 2, 0, \"p\", 1);\n      i0.ɵɵtemplate(4, MealsListComponent_ng_container_4_Template, 2, 1, \"ng-container\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.RouterLink, i3.SmallXComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerStart","ɵɵlistener","MealsListComponent_ng_container_4_div_1_ng_container_1_Template_app_small_x_click_6_listener","ɵɵrestoreView","_r8","i_r4","ɵɵnextContext","index","ctx_r7","ɵɵresetView","onDelete","mealsForDays","_id","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate","date_r3","getDate","ɵɵtextInterpolate1","ctx_r5","recipe","name","ɵɵproperty","ɵɵpureFunction1","_c0","toString","ɵɵtemplate","MealsListComponent_ng_container_4_div_1_ng_container_1_Template","MealsListComponent_ng_container_4_div_1_ng_container_2_Template","ctx_r2","MealsListComponent_ng_container_4_div_1_Template","ctx_r1","next7Days","datesAreSameDay","date1","date2","getFullYear","getMonth","MealsListComponent","constructor","isLoading","_meals","Array","fill","map","_","i","date","Date","setDate","deleteMeal","meals","value","day","find","meal","plannedDate","mealId","emit","selectors","inputs","outputs","decls","vars","consts","template","MealsListComponent_Template","rf","ctx","MealsListComponent_p_3_Template","MealsListComponent_ng_container_4_Template"],"sources":["C:\\Users\\davpa\\OneDrive\\Desktop\\Projects\\fsa-meal-tracker\\src\\app\\components\\meals-list\\meals-list.component.ts","C:\\Users\\davpa\\OneDrive\\Desktop\\Projects\\fsa-meal-tracker\\src\\app\\components\\meals-list\\meals-list.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Meal } from 'src/app/types';\n\nconst datesAreSameDay = (date1: Date, date2: Date): boolean =>\n\tdate1.getFullYear() === date2.getFullYear()\n\t&& date1.getMonth() === date2.getMonth()\n\t&& date1.getDate() === date2.getDate();\n\n@Component({\n  selector: 'app-meals-list',\n  templateUrl: './meals-list.component.html',\n  styleUrls: ['./meals-list.component.css']\n})\nexport class MealsListComponent {\n\t@Input() isLoading: boolean = true;\n\tprivate _meals: Meal[] = [];\n\t@Input() set meals(value: Meal[]) {\n\t\tthis._meals = value;\n\t\tthis.mealsForDays = this.next7Days.map(\n\t\t\tday => this.meals.find(meal => datesAreSameDay(meal.plannedDate, day))\n\t\t);\n\t}\n\tget meals() { return this._meals };\n\n\tnext7Days: Date[] = Array(7).fill(null).map((_, i) => {\n\t\tconst date = new Date();\n\t\tdate.setDate(date.getDate() + i);\n\t\treturn date;\n\t});\n\tmealsForDays: (Meal | undefined)[] = [];\n\n\t@Output() deleteMeal = new EventEmitter<string>();\n\n\tonDelete(mealId: string): void {\n\t\tthis.deleteMeal.emit(mealId);\n\t}\n\n}\n","<div class=\"list-container\">\n\t<h1>Planned Meals</h1>\n\t<p *ngIf=\"isLoading\">Loading...</p>\n\t<ng-container *ngIf=\"!isLoading\">\n\t\t<div class=\"list-item\" *ngFor=\"let date of next7Days; index as i\">\n\t\t\t<ng-container *ngIf=\"mealsForDays[i]\">\n\t\t\t\t<h3>{{ date.getDate() }}</h3>\n\t\t\t\t<p>{{ mealsForDays[i]!.recipe.name }} </p>\n\t\t\t\t<div class=\"right-action\">\n\t\t\t\t\t<app-small-x (click)=\"onDelete(mealsForDays[i]!._id)\"></app-small-x>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t\t<ng-container *ngIf=\"!mealsForDays[i]\">\n\t\t\t\t<h3>{{ date.getDate() }}</h3>\n\t\t\t\t<p>No meal planned</p>\n\t\t\t\t<div class=\"right-action\">\n\t\t\t\t\t<a routerLink=\"/recipes\" [queryParams]=\"{ date: date.toString() }\">\n\t\t\t\t\t\t<button>Add</button>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t</div>\n\t</ng-container>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}