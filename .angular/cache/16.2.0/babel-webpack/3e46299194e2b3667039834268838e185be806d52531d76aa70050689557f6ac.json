{"ast":null,"code":"var _class;\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class MealsService {\n  constructor(http) {\n    this.http = http;\n  }\n  formatMealDate(rawMeal) {\n    return {\n      ...rawMeal,\n      plannedDate: new Date(rawMeal.plannedDate)\n    };\n  }\n  getMeals() {\n    return this.http.get('/api/meals').pipe(map(rawMeals => rawMeals.map(rawMeal => this.formatMealDate(rawMeal))));\n  }\n  deleteMeal(id) {\n    return this.http.delete(`/api/meals/${id}`).pipe(map(rawMeals => rawMeals.map(rawMeal => this.formatMealDate(rawMeal))));\n  }\n  addMeal(date, recipeId) {\n    return this.http.post('/api/meals', {\n      date,\n      recipeId\n    }).pipe(map(rawMeals => rawMeals.map(rawMeal => this.formatMealDate(rawMeal))));\n  }\n}\n_class = MealsService;\n_class.ɵfac = function MealsService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.HttpClient));\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["map","MealsService","constructor","http","formatMealDate","rawMeal","plannedDate","Date","getMeals","get","pipe","rawMeals","deleteMeal","id","delete","addMeal","date","recipeId","post","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\davpa\\OneDrive\\Desktop\\Projects\\fsa-meal-tracker\\src\\app\\services\\meals.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { MealRaw, Meal } from '../types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MealsService {\n\n\tconstructor(\n\t\tprivate http: HttpClient,\n\t) { }\n\n\tformatMealDate(rawMeal: MealRaw): Meal {\n\t\treturn {\n\t\t\t...rawMeal,\n\t\t\tplannedDate: new Date(rawMeal.plannedDate),\n\t\t};\n\t}\n\n\tgetMeals(): Observable<Meal[]> {\n\t\treturn this.http.get<MealRaw[]>('/api/meals')\n\t\t\t.pipe(map(rawMeals => rawMeals.map(rawMeal => this.formatMealDate(rawMeal))));\n\t}\n\n\tdeleteMeal(id: string): Observable<Meal[]> {\n\t\treturn this.http.delete<MealRaw[]>(`/api/meals/${id}`)\n\t\t\t.pipe(map(rawMeals => rawMeals.map(rawMeal => this.formatMealDate(rawMeal))));\n\t}\n\n\taddMeal(date: string, recipeId: string): Observable<Meal[]> {\n\t\treturn this.http.post<MealRaw[]>('/api/meals', { date, recipeId })\n\t\t\t.pipe(map(rawMeals => rawMeals.map(rawMeal => this.formatMealDate(rawMeal))));\t\n\t}\n}\n"],"mappings":";AAGA,SAASA,GAAG,QAAQ,gBAAgB;;;AAMpC,OAAM,MAAOC,YAAY;EAExBC,YACSC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;EACT;EAEJC,cAAcA,CAACC,OAAgB;IAC9B,OAAO;MACN,GAAGA,OAAO;MACVC,WAAW,EAAE,IAAIC,IAAI,CAACF,OAAO,CAACC,WAAW;KACzC;EACF;EAEAE,QAAQA,CAAA;IACP,OAAO,IAAI,CAACL,IAAI,CAACM,GAAG,CAAY,YAAY,CAAC,CAC3CC,IAAI,CAACV,GAAG,CAACW,QAAQ,IAAIA,QAAQ,CAACX,GAAG,CAACK,OAAO,IAAI,IAAI,CAACD,cAAc,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;EAC/E;EAEAO,UAAUA,CAACC,EAAU;IACpB,OAAO,IAAI,CAACV,IAAI,CAACW,MAAM,CAAY,cAAcD,EAAE,EAAE,CAAC,CACpDH,IAAI,CAACV,GAAG,CAACW,QAAQ,IAAIA,QAAQ,CAACX,GAAG,CAACK,OAAO,IAAI,IAAI,CAACD,cAAc,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;EAC/E;EAEAU,OAAOA,CAACC,IAAY,EAAEC,QAAgB;IACrC,OAAO,IAAI,CAACd,IAAI,CAACe,IAAI,CAAY,YAAY,EAAE;MAAEF,IAAI;MAAEC;IAAQ,CAAE,CAAC,CAChEP,IAAI,CAACV,GAAG,CAACW,QAAQ,IAAIA,QAAQ,CAACX,GAAG,CAACK,OAAO,IAAI,IAAI,CAACD,cAAc,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;EAC/E;;SA1BYJ,YAAY;;mBAAZA,MAAY,EAAAkB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;;SAAZrB,MAAY;EAAAsB,OAAA,EAAZtB,MAAY,CAAAuB,IAAA;EAAAC,UAAA,EAFX;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}